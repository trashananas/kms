# Сосед-обменник Выхино-Жулебино

Простой прототип «обменника» для родителей Клуба многодетных семей.

## Как это работает

- Статический сайт с формой и списком объявлений.
- При загрузке требуется вход/регистрация: в качестве логина используется телефон.
- В текущей версии реализован лёгкий сервер на Node.js/Express, данные (пользователи и объявления) сохраняются в файле `db.json`.
- Клиент общается с API через `fetch` (REST‑эндпоинты `/api/*`). Это позволяет запускать бэкенд на любом хосте (Heroku, Vercel, ваш VPS) и не полагаться на `localStorage`.
- Для локальной разработки: установите зависимости (`npm install`), затем `npm start` и откройте `http://localhost:3000`.

## Развитие

1. **Бэкенд и хранилище**
   - Уже реализована простая Node/Express API с JSON‑файлом (`db.json`).
   - Дальше можно заменить на настоящую базу (SQLite/Postgres/Mongo), добавить валидацию, хэширование паролей и JWT.
2. **Модерация и права**
   - Создать административный интерфейс для управления объявлениями и пользователями.
   - Ввести роли (модератор, пользователь) и ограничить редактирование/удаление.
3. **Распространение и деплой**
   - Развернуть приложение на бесплатном хостинге (Heroku, Vercel, Render) или на собственном сервере.
   - Настроить HTTPS и доменное имя, поделиться ссылкой в клубном чате.

## Текущий функционал (добавлено)
- Пользовательская регистрация и вход по телефону+пароль + «Запомнить меня» на этом устройстве (чекбокс). Пароли можно показать глазиком. При регистрации вводятся подробные адресные данные (корпус, этаж, квартира, коды) в профиле, не в объявлениях. Свободное время вводится текстовыми полями в одну строку. В профиле можно менять всё вышеперечисленное.
- Страницы: главная с объявлениями, добавление объявления, профиль пользователя.
- На карте Яндекс отображается место отдачи; достаточно кликнуть по карте при добавлении. После выбора адреса появляется скрытое поле с координатами, которые используются для показа небольшой карты в каждом объявлении. Также есть дополнительные поля «корпус, этаж, квартира, коды».
- При публикации объявления контакт автоматически берётся из профиля. Телефон обрабатывается функцией нормализации: +7 и 8, 10‑значные введения приводятся к единому формату, поэтому пользователь не сможет зарегистрироваться дважды с номерами +711... и 811....
- Пользователи могут **редактировать и удалять свои объявления**. Кнопка «Мои объявления» фильтрует доску. На чужих объявлениях есть кнопка «Бронь»: после брони объявление исчезает для всех, кроме продавца и бронирующего, у которого появляется кнопка «Отмена брони». При клике на чужое объявление открывается модальный виджет с подробностями.
- К каждому объявлению можно прикреплять до 5 фото/видео (хранятся в localStorage в виде DataURL). Цена и предпочтительный банк указываются в объявлении, но оплата производится самостоятельно пользователями.
- В списке объявлений для каждого пункта отображается мини‑карта с координатами, выбранными при добавлении.
- Возрастные метки и фильтр объявлений по возрасту (выбор нескольких вариантов).
- Редактирование/удаление профиля, смена пароля и выход из аккаунта.

## Что дальше
- Сайт оформлен в приятной желто‑белой цветовой гамме, многие блоки выполнены в стиле жидкого стекла (полупрозрачный фон с размытием). Добавлены анимации, декоративная графика и облака в шапке.
- Оптимизировать интеграцию с Яндекс-Картами (выбор точных координат, автоподстановка).
- Добавить поиск/категории, фильтрацию по районам и возрастным отметкам.
- Бэкенд уже работает, достаточно развернуть репозиторий на любом Node‑совместимом хостинге и настроить порт. Модерацию можно реализовать добавлением ролей и административных эндпоинтов.

Пока всё бесплатно и без серверных затрат!

---

### Быстрый деплой на Heroku
1. Установите [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli).
2. Создайте приложение: `heroku create`.
3. Закоммитьте код и отправьте на Heroku: `git push heroku main`.
4. Приложение будет автоматически запускаться с `npm start`.

URL будет вида `https://<appname>.herokuapp.com`.